# -*- coding: utf-8 -*-

import matplotlib.pyplot as plt
from numpy import arange

SNR = range(0,31,5)
N = 512                     # 训练序列长度/载波数,满足：L<=N
P = 36                      # CS估计导频数，P<N
pos_ls = arange(0,N,5)      # LS估计的均匀导频图样

CS_MSE = [-1.262584764915313684e+01,
-1.847066929919255784e+01,
-2.289348751176836672e+01,
-2.750732416336162700e+01,
-3.280669346539215780e+01,
-3.798134587972247544e+01,
-4.300941419947213262e+01
]

CS_BER = [1.197531512605041759e-01,
4.800945378151258436e-02,
1.820903361344535995e-02,
6.528361344537809627e-03,
2.053571428571427174e-03,
7.720588235294114938e-04,
1.838235294117647033e-04
]

LS_MSE = [-9.962312629498949690e+00,
-1.191677715471392496e+01,
-1.307990958248024782e+01,
-1.398340781231689611e+01,
-1.386316047011928987e+01,
-1.378737972261434841e+01,
-1.367413199872622265e+01
]

LS_BER = [1.566198044009780022e-01,
1.029523227383863232e-01,
7.691931540342296370e-02,
6.009168704156478413e-02,
6.071515892420537019e-02,
6.209657701711494837e-02,
6.265892420537899632e-02
]

eva_MSE = [3.149966590729024407e+00,
3.077257745784594878e+00,
3.091339937735233967e+00,
3.091669632843082383e+00,
3.064456223007214319e+00,
3.091478325783024061e+00,
3.104615586169541253e+00
]

eva_BER = [4.933928571428570220e-01,
4.940598739495798419e-01,
4.938077731092435640e-01,
4.927626050420169657e-01,
4.912710084033614644e-01,
4.932930672268908134e-01,
4.915913865546218675e-01
]

plt.figure(figsize=(8,5))
plt.plot(SNR,CS_MSE, 'g*-',label='CS(Random, P=%s)'%(P))
plt.plot(SNR,LS_MSE, 'bo-',label='LS(Even, P=%s)'%(len(pos_ls)))
plt.plot(SNR,eva_MSE,'r^--',label='Evasdropper(Random, P=%s)'%(P))
plt.xlabel('SNR(dB)')
plt.ylabel('MSE(dB)')
plt.title('MSE')
plt.legend()

plt.figure(figsize=(8,5))
plt.semilogy(SNR,CS_BER, 'g*-',label='CS(Random, P=%s)'%(P))
plt.semilogy(SNR,LS_BER, 'bo-',label='LS(Even, P=%s)'%(len(pos_ls)))
plt.semilogy(SNR,eva_BER,'r^--',label='Evasdropper(Random, P=%s)'%(P))
plt.xlabel('SNR(dB)')
plt.ylabel('BER')
plt.title('BER')
plt.legend()